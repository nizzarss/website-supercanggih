<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SuperCanggih PRO - Berita Otomatis dengan Fallback</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    /* Reset & Base */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0a1a2b, #162a44);
      color: #e3e3e3;
      min-height: 100vh;
      display: flex; flex-direction: column;
      user-select: none; padding: 0 1rem;
    }
    header.main-header {
      position: fixed; top: 0; left: 0; right: 0; height: 70px;
      background: rgba(20,30,48,0.85); backdrop-filter: blur(15px);
      box-shadow: 0 2px 12px rgb(244 199 38 / 0.22);
      z-index: 50; display: flex; justify-content: space-between; align-items: center;
      padding: 0 2rem; gap: 1rem; user-select: none;
    }
    .left-header {
      display: flex; align-items: center; gap: 1rem; cursor: default;
    }
    .logo-wrapper img {
      height: 44px;
      border-radius: 6px;
      cursor: pointer;
      transition: filter 0.3s ease;
      user-select: none;
    }
    .logo-wrapper img:hover {
      filter: drop-shadow(0 0 8px #ffc850);
    }
    header.main-header h1 {
      font-weight: 700;
      font-size: 1.8rem; color: #f4c542;
      letter-spacing: 0.12em; cursor: pointer;
      user-select: none;
      text-shadow: 0 1px 4px rgb(244 199 38 / 0.7);
    }
    nav.main-nav ul {
      list-style: none;
      display: flex;
      gap: 1.8rem;
    }
    nav.main-nav a {
      font-size: 1rem;
      font-weight: 600;
      color: #bfc7cd;
      text-decoration: none;
      padding-bottom: 5px;
      position: relative;
      border-radius: 6px;
      transition: color 0.3s ease;
    }
    nav.main-nav a::after {
      content: '';
      position: absolute;
      height: 3px;
      width: 0;
      bottom: 0;
      left: 0;
      background: #f4c542;
      border-radius: 3px;
      transition: width 0.35s ease;
    }
    nav.main-nav a:hover, nav.main-nav a.active {
      color: #f4c542;
    }
    nav.main-nav a:hover::after, nav.main-nav a.active::after {
      width: 100%;
    }
    main.container {
      margin: 90px auto 3rem;
      max-width: 1140px;
      user-select: text;
    }
    #newsList {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(320px,1fr));
      gap: 2rem;
    }
    article.card {
      background: rgba(255 255 255 / 0.07);
      border-radius: 20px;
      box-shadow: 0 12px 28px rgba(244, 199, 38, 0.4);
      display: flex;
      flex-direction: column;
      cursor: pointer;
      transition: box-shadow 0.3s ease, transform 0.3s ease;
    }
    article.card:hover {
      box-shadow: 0 20px 48px rgba(244, 199, 38, 0.7);
      transform: translateY(-8px);
    }
    article.card img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 20px 20px 0 0;
      user-select: none;
    }
    article.card .content {
      padding: 1rem 1.4rem 1.2rem;
      color: #fff9d9;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    article.card .content h2 {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      line-height: 1.2;
    }
    article.card .content p {
      font-size: 0.9rem;
      opacity: 0.85;
      flex-grow: 1;
      margin-bottom: 0.6rem;
      line-height: 1.3;
      overflow: hidden;
      max-height: 4.8em; /* cth 3 baris */
      text-overflow: ellipsis;
    }
    article.card .content .meta {
      font-size: 0.8rem;
      font-style: italic;
      opacity: 0.7;
      user-select: none;
      text-align: right;
    }
    footer {
      text-align: center;
      color: #aaa;
      margin-bottom: 2rem;
      user-select: none;
    }
    @media(max-width: 720px) {
      nav.main-nav ul {
        gap: 1rem;
      }
      main.container {
        margin-top: 80px;
      }
      article.card img {
        height: 140px;
      }
    }
  </style>
</head>
<body>
<header class="main-header" role="banner">
  <div class="left-header">
    <div class="logo-wrapper" tabindex="0" aria-label="Logo SuperCanggih">
      <img src="https://upload.wikimedia.org/wikipedia/commons/7/74/Logo_Simbol_PNG_%28Black%29.png" alt="Logo SuperCanggih" />
    </div>
    <h1 tabindex="0" aria-label="Klik untuk reload halaman">SuperCanggih PRO</h1>
  </div>
  <nav class="main-nav" role="navigation" aria-label="Menu utama">
    <ul>
      <li><a href="#" class="active" data-category="semua" tabindex="0">Semua</a></li>
      <li><a href="#" data-category="business" tabindex="0">Bisnis</a></li>
      <li><a href="#" data-category="entertainment" tabindex="0">Hiburan</a></li>
      <li><a href="#" data-category="general" tabindex="0">Umum</a></li>
      <li><a href="#" data-category="health" tabindex="0">Kesehatan</a></li>
      <li><a href="#" data-category="science" tabindex="0">Sains</a></li>
      <li><a href="#" data-category="sports" tabindex="0">Olahraga</a></li>
      <li><a href="#" data-category="technology" tabindex="0">Teknologi</a></li>
    </ul>
  </nav>
</header>
<main class="container" role="main" aria-live="polite" aria-atomic="true">
  <section id="newsList" aria-label="Daftar berita terbaru">
    <p style="color:#f4c542; text-align:center; user-select:none;">Memuat berita otomatis...</p>
  </section>
</main>
<footer>
  &copy; 2024 Web SuperCanggih PRO. Semua hak dilindungi.
</footer>

<script>
  const API_KEY = '7caa63deef8541cb87304aed0f83eb3d';  // Ganti dengan API Key NewsAPI.org validmu
  const BASE_URL = 'https://newsapi.org/v2/top-headlines';

  const newsListEl = document.getElementById('newsList');
  const navLinks = document.querySelectorAll('nav.main-nav a');
  const headerTitle = document.querySelector('header.main-header h1');

  function renderArticles(articles) {
    if (!articles || articles.length === 0) {
      newsListEl.innerHTML = `<p style="text-align:center; color:#f4c542;">Tidak ada berita ditemukan.</p>`;
      return;
    }
    newsListEl.innerHTML = articles.map(article => `
      <article class="card" tabindex="0" aria-label="Berita: ${article.title}">
        <img src="${article.urlToImage || 'https://via.placeholder.com/600x400?text=No+Image'}" alt="Gambar ${article.title}" />
        <div class="content">
          <h2>${article.title}</h2>
          <p>${article.description || ''}</p>
          <div class="meta">${new Date(article.publishedAt).toLocaleDateString('id-ID', { day: '2-digit', month: 'long', year: 'numeric' })}</div>
        </div>
      </article>
    `).join('');
  }

  async function fetchNews(category = '') {
    newsListEl.innerHTML = `<p style="color:#f4c542; text-align:center; user-select:none;">Memuat berita otomatis...</p>`;
    try {
      let url = `${BASE_URL}?country=id&apiKey=${API_KEY}`;
      if (category && category !== 'semua') {
        url += `&category=${category}`;
      }
      const resp = await fetch(url);
      const data = await resp.json();

      if (data.status !== 'ok') {
        throw new Error(data.message || 'Gagal memuat berita');
      }

      if (data.totalResults === 0 && category && category !== 'semua') {
        // Fallback ke kategori general
        const fallbackResp = await fetch(`${BASE_URL}?country=id&category=general&apiKey=${API_KEY}`);
        const fallbackData = await fallbackResp.json();
        renderArticles(fallbackData.articles || []);
      } else {
        renderArticles(data.articles);
      }
    } catch (err) {
      newsListEl.innerHTML = `<p style="color:#f44336; text-align:center;">Gagal memuat berita: ${err.message}</p>`;
    }
  }

  navLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      navLinks.forEach(l => l.classList.remove('active'));
      link.classList.add('active');
      const category = link.dataset.category;
      fetchNews(category);
    });
  });

  headerTitle.addEventListener('click', () => location.reload());

  // Load berita awal: semua kategori
  fetchNews('semua');
</script>

</body>
</html>